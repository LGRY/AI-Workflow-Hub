# 步骤 1：创建知识管道

<img src="https://mintcdn.com/dify-6c0370d8/zkT6R8Ak-WmNYVSe/images/knowledge-base/create-knowledge-pipeline-1.png?fit=max&auto=format&n=zkT6R8Ak-WmNYVSe&q=85&s=e9e17095e32579d4058931342a3bdda4" alt="创建知识管道" width="1321" height="256" data-path="images/knowledge-base/create-knowledge-pipeline-1.png" srcset="https://mintcdn.com/dify-6c0370d8/zkT6R8Ak-WmNYVSe/images/knowledge-base/create-knowledge-pipeline-1.png?w=280&fit=max&auto=format&n=zkT6R8Ak-WmNYVSe&q=85&s=a422d60b1eb853e48c387c4f285a6292 280w, https://mintcdn.com/dify-6c0370d8/zkT6R8Ak-WmNYVSe/images/knowledge-base/create-knowledge-pipe line-1.png?w=560&fit=max&auto=format&n=zkT6R8Ak-WmNYVSe&q=85&s=5e4e17427caee6f79393213195553355 560瓦， https://mintcdn.com/dify-6c0370d8/zkT6R8Ak-WmNYVSe/images/knowledge-base/create-knowledge-pipeline-1.png?w=840&fit=max&auto=format&n=zkT6R8Ak-WmNYVSe&q=85&s=bfe01f72d53a190cbce4e6546da84d46 840w， https://mintcdn.com/dify-6c0370d8/zkT6R8Ak-WmNYVSe/images/knowledge-base/create-knowledge-pipeline-1.png?w=1100&fit=max&auto=format&n=zkT6R8Ak-WmNYVSe&q=85&s=fc3e3f719e92222dc5c3756835a92842 1100w， https://mintcdn.com/dify-6c0370d8/zkT6R8Ak-WmNYVSe/images/knowledge-base/create-knowledge-pipeline-1.png?w=1650&fit=max&auto=format&n=zkT6R8Ak-WmNYVSe&q=85&s=55bfdaf2f38a73f03dda43fa571304a1 1650w， https://mintcdn.com/dify-6c0370d8/zkT6R8Ak-WmNYVSe/images/knowledge-base/create-knowledge-pipeline-1.png?w=2500&fit=max&auto=format&n=zkT6R8Ak-WmNYVSe&q=85&s=d8dc98c58f857c9541de9131a7703ffb 2500w" data-optimize="true" data-opv="2" />

导航至顶部的“知识”，然后点击左侧的“从知识管道创建”。您可以通过三种方式开始。

### 从头开始​​构建

<img src="https://mintcdn.com/dify-6c0370d8/zkT6R8Ak-WmNYVSe/images/knowledge-base/create-knowledge-pipeline-2.png?fit=max&auto=format&n=zkT6R8Ak-WmNYVSe&q=85&s=485bf88f9cadf10851a1afd1483eebcc" alt="从头开始构建" width="1280" height="328" data-path="images/knowledge-base/create-knowledge-pipeline-2.png" srcset="https://mintcdn.com/dify-6c0370d8/zkT6R8Ak-WmNYVSe/images/knowledge-base/create-knowledge-pipeline-2.png?w=280&fit=max&auto=format&n=zkT6R8Ak-WmNYVSe&q=85&s=df06ae37818bf3d5d8be405387b5b759 280w, https://mintcdn.com/dify-6c0370d8/zkT6R8Ak-WmNYVSe/images/knowledge-base/create-knowledge-pipe line-2.png?w=560&fit=max&auto=format&n=zkT6R8Ak-WmNYVSe&q=85&s=e86d8c6f1ea4d8f370656c675d365cc2 560瓦， https://mintcdn.com/dify-6c0370d8/zkT6R8Ak-WmNYVSe/images/knowledge-base/create-knowledge-pipeline-2.png?w=840&fit=max&auto=format&n=zkT6R8Ak-WmNYVSe&q=85&s=82ccd381c9dc73f7299b63b1254a6733 840w， https://mintcdn.com/dify-6c0370d8/zkT6R8Ak-WmNYVSe/images/knowledge-base/create-knowledge-pipeline-2.png?w=1100&fit=max&auto=format&n=zkT6R8Ak-WmNYVSe&q=85&s=28888c6f2896994bb4992b7b3e52dfdb 1100w， https://mintcdn.com/dify-6c0370d8/zkT6R8Ak-WmNYVSe/images/knowledge-base/create-knowledge-pipeline-2.png?w=1650&fit=max&auto=format&n=zkT6R8Ak-WmNYVSe&q=85&s=16f6432b2e50e40c88afee12483f3444 1650w， https://mintcdn.com/dify-6c0370d8/zkT6R8Ak-WmNYVSe/images/knowledge-base/create-knowledge-pipeline-2.png?w=2500&fit=max&auto=format&n=zkT6R8Ak-WmNYVSe&q=85&s=5e229ac95c09c3beaab9822f967ecea8 2500w" data-optimize="true" data-opv="2" />

点击“空白知识管道”即可从头构建自定义管道。如果您需要根据特定数据源和业务需求定制处理策略，请选择此选项。

### 模板

Dify 提供两种模板：**内置管道**和**自定义**。两种模板卡片均显示知识库名称、描述以及标签（包含块结构）。

<img src="https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-4-1.png?fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=79577db8d9931dedb6d974375d4beab7" alt="" width="3840" height="1176" data-path="images/knowledge-base/create-knowledge-pipeline-4-1.png" srcset="https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-4-1.png?w=280&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=fb848643c38c1a7748c3bb28e705ef39 280w， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipel ine-4-1.png?w=560&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=05f0ca37f870413c482a113ea20c6ad8 560瓦， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-4-1.png?w=840&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=3cf55d91df2220e53d66bb1fd3b205fe 840w， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-4-1.png?w=1100&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=73691b9ed24a0fc47f67179cf044f77a 1100w， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-4-1.png?w=1650&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=e9694c7f9980b78f7fb86a8653f020e8 1650w， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-4-1.png?w=2500&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=569ba459084699b6ae1a1249ccdf9d4e 2500w" data-optimize="true" data-opv="2" />

### 内置管道

内置管道是 Dify 预先配置的官方知识库模板。这些模板针对常见的文档结构和用例进行了优化。只需点击“选择”即可开始使用。

<img src="https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-4.png?fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=ff98bf9d67512920086e37d65866f1d4" alt="内置模板" width="1280" height="350" data-path="images/knowledge-base/create-knowledge-pipeline-4.png" srcset="https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-4.png?w=280&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=ae3d632cf27c9072fac607d7f23145b2 280w, https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-4.png?w=560&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=a34be2335d6eff397a617c99f884e0bc 560瓦， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-4.png?w=840&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=caaf3ef456c602f1c3fe0f66d014b923 840w， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-4.png?w=1100&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=582a70f7b843b26acccf58f8340f611b 1100w， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-4.png?w=1650&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=a7486800022e194358004c019f096a97 1650w， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-4.png?w=2500&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=834cbcc6a2b4f467925cc4bb18194de8 2500w“data-optimize =”true“data-opv =”2“/>

**类型**

| 名称 | 块结构 | 索引方法 | 检索设置 | 描述 |
| -------------------------------- | ----------------- | ------------ | ------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 通用模式-ECO | 通用 | 经济 | 倒排索引 | 将文档内容划分为更小的段落，直接用于匹配用户查询和检索。|
| 父子高质量 | 父子 | 高质量 | 混合检索 | 采用先进的分块策略，将文档文本划分为较大的父块和较小的子块。父块包含子块，既保证了检索精度，又维护了上下文的完整性。|
| 简易问答 | 问答 | 高质量 | 向量搜索 | 将表格数据转换成问答形式，通过问题匹配快速找到对应的答案信息。|
| 包含图像和表格的复杂 PDF | 父子 | 高质量 | 混合搜索 - 加权分数 | 从 PDF 文件中提取图像和表格内容。|
| 使用 LLM 进行上下文丰富 | 父子 | 高质量 | 混合搜索 - 加权分数 | 从文档中提取图像和表格，并使用大型语言模型自动生成描述性注释，实现智能上下文增强。|
| 转换为 Markdown | 父级 | 高质量 | 混合搜索 - 加权评分 | 专为 Office 原生文件格式（例如 DOCX、XLSX 和 PPTX）设计，将其转换为 Markdown 格式，以便更好地处理信息。⚠️ 注意：不建议使用 PDF 文件。|
| LLM 生成问答 | 问答 | 高质量 | 向量搜索 | 基于原文段落，利用大型语言模型生成结构化问答对，并通过问题匹配机制找到相关答案。|

要预览所选的内置流水线，请点击任意模板卡片上的“详细信息”。然后在弹出窗口中查看信息，包括：编排结构、流水线描述和块结构。点击“使用此知识流水线”进行编排。

<img src="https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-5.png?fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=bd1c5e6cefc8b737f59ebc132f01f5be" alt="模板详情" width="1280" height="638" data-path="images/knowledge-base/create-knowledge-pipeline-5.png" srcset="https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-5.png?w=280&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=39d8fdbdd078cc7791c8653fff6306f9 280w, https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipe line-5.png?w=560&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=638fbef81cae73a30c24f90723c06504 560瓦， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-5.png?w=840&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=3f731674b75a000416489e558f7e48d4 840w， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-5.png?w=1100&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=093750b998f0a8a5f1b9b8ccb80ed341 1100w， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-5.png?w=1650&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=381c9c61904679b4a2b29cb1525b744b 1650w， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-5.png?w=2500&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=f2c518292a10f7d914c379e3e878d3d5 2500w“data-optimize =”true“data-opv =”2“/>

#### 定制

<img src="https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-6.png?fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=0cab374f6de2d48ae4a5ef65c819b0fa" alt="自定义模板" width="1280" height="511" data-path="images/knowledge-base/create-knowledge-pipeline-6.png" srcset="https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-6.png?w=280&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=d0f35c3d3d0b1d501305810a8f353d94 280w, https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipe line-6.png?w=560&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=65faa58900392a91657762d2e7207cad 560瓦， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-6.png?w=840&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=d11e8aecd64bb84dd5f78b8cbc2528df 840w， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-6.png?w=1100&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=65edaa3ba30b5bd10d1312c0b536a78e 1100w， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-6.png?w=1650&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=ae1ce215355f4278e958f20f86adef53 1650w， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-6.png?w=2500&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=22cb4014c06f9f255f90a4e1ad794bc6 2500w" data-optimize="true" data-opv="2" />

自定义模板是用户创建并发布的知识管道。您可以选择一个模板启动、导出 DSL 或查看任何模板的详细信息。

<img src="https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-7.png?fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=5ef6626a2693c1f38a04410b3b361f72" alt="模板操作" width="741" height="556" data-path="images/knowledge-base/create-knowledge-pipeline-7.png" srcset="https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-7.png?w=280&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=ba5685e2f98d1c5847d05bbeda99d623 280w， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-7.png?w=560&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=e970be20de94e98f8a2eb04c43dbb782 560瓦， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-7.png?w=840&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=5234ba8f328d30027b954744d33ae141 840w， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-7.png?w=1100&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=42cb091404df7cd17856095d4a71d3ca 1100瓦， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-7.png?w=1650&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=1aec14110675c76efb8242a6b31fb6d3 1650w， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-7.png?w=2500&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=30aa363224caa70484634f60aff0a781 2500w“data-optimize =”true“data-opv =”2“/>

要从模板创建知识库，请点击模板卡片上的“选择”。您也可以在预览模板时点击“使用此知识管道”来创建知识库。点击“更多”可以编辑管道信息、导出管道或删除模板。

### 导入管道

<img src="https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-3.png?fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=db86a4d9ca40a6d711ee607896590221" alt="导入 DSL" width="1280" height="693" data-path="images/knowledge-base/create-knowledge-pipeline-3.png" srcset="https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-3.png?w=280&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=0ee042d7159c1432e02a82ee2a34637d 280w, https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipe line-3.png?w=560&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=541724a9c225b6390ffc3d8eef592053 560瓦， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-3.png?w=840&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=4d09909d43419035520b4d0d9e62fde1 840w， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-3.png?w=1100&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=3995f09d6ef47de32af72405ff56bda3 1100瓦， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-3.png?w=1650&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=3350948d6a620df231d2571661362f8d 1650w， https://mintcdn.com/dify-6c0370d8/y0OuaOVt1Ats0jeT/images/knowledge-base/create-knowledge-pipeline-3.png?w=2500&fit=max&auto=format&n=y0OuaOVt1Ats0jeT&q=85&s=5c10d5994b2db8ab2c8a671c1c9eca21 2500w" data-optimize="true" data-opv="2" />

导入之前导出的知识管道，以便快速复用现有配置并根据不同场景或需求进行修改。导航到页面左下方，点击“从 DSL 文件导入”。Dify DSL 是一个基于 YAML 的标准，用于定义 AI 应用配置，包括模型参数、提示设计和工作流编排。与工作流 DSL 类似，知识管道使用相同的 YAML 格式标准来定义知识库中的处理工作流和配置。

知识管道 DSL 中有什么：

| 名称 | 描述 |
| ----------------------- | ------------------------------------------------------------------ |
| 数据源 | 本地文件、网站、在线文档、在线驱动器、网络爬虫 |
| 数据处理 | 文档提取、内容分块、清理策略 |
| 知识配置 | 索引方法、检索设置、存储参数 |
| 节点编排 | 排列和顺序 |
| 用户输入表单 | 自定义参数字段（如果已配置）|
